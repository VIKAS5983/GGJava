package gg.construction;

import java.util.Vector;

import gg.binaryTree.TreeNode;
import gg.binaryTree.TreeNodeTraversel;

public class TreeConstructionFromPreOrderAndInorder {

	public static void main(String args[]){
		int[] pre={1,2,4,7,5,8,9,3,6};
		int[] in={7,4,2,8,5,9,1,3,6};
		Vector<Integer> preV=new Vector<Integer>();
		for(int i=0;i<pre.length;i++)
		preV.add(pre[i]);
		
		
		TreeConverstionFromPreOrderAndInorder(preV,in);
	}
	
	public static TreeNode TreeConverstionFromPreOrderAndInorder(Vector<Integer> pre,int[] in){
		
		Vector<Integer> left=new Vector<Integer>();
		Vector<Integer> right=new Vector<Integer>();
		
		TreeNode head=new TreeNode(pre.get(0));
		
		int headIndex=-1;
		
		for(int i=0;i<in.length;i++)
		{
			if(in[i]==pre.get(0)){
				headIndex=i;
					break;
			}
		}
		
		
		for(int i=0;i<headIndex;i++){
			left.add(in[i]);
		}
		
		for(int i=headIndex+1;i<pre.size();i++){
			right.add(in[i]);
		}
		
		
		TreeConverstionUtil(head,left,right,pre);
		
		TreeNodeTraversel.inOrderTraversol(head);
		
		return null;
	}
	
	public static void TreeConverstionUtil(TreeNode head,Vector<Integer> left, Vector<Integer> right,Vector<Integer> pre){
		if(pre.size()==0){
			return ;
		}
		
		if(searchVector(left,pre.get(0))!=-1){
			head.left=new TreeNode(pre.get(0));
			pre.remove(0);
			int nextIn=searchVector(left, pre.get(0));
			Vector<Integer> subL=new Vector<Integer>();
			Vector<Integer> subR=new Vector<Integer>();
			subL.addAll(left.subList(0, nextIn-1));
			subR.addAll(left.subList(nextIn+1, left.size()-1));
			TreeConverstionUtil(head.left, subL, subR, pre);
			
		}else{
			head.right=new TreeNode(pre.get(0));
			pre.remove(0);
			int nextIn=searchVector(right, pre.get(0));
			Vector<Integer> subL=new Vector<Integer>();
			Vector<Integer> subR=new Vector<Integer>();
			subL.addAll(right.subList(0, nextIn-1));
			subR.addAll(right.subList(nextIn+1, left.size()-1));
			TreeConverstionUtil(head.right, subL, subR, pre);
			

		}
		
		return ;
	}
	
	public static int searchVector(Vector<Integer> v,int searchValue){
		
		for(int i=0;i<v.size();i++){
			if(v.get(i)==searchValue)
				return i;
		}
		return -1;
	}
	
	
}
